<div xmlns="http://www.w3.org/1999/xhtml">
<?xml-stylesheet href="../common.css"?>
<h2>CollisionGetCurrent</h2>
<p class="fundef">CollisionGetCurrent(id,&current,&angle,&dist,&rect,&type,current[])</p>
<p>Retrieves current collision from generated list.</p>
<p><strong>Argument 'id':</strong>Entity ID Hash.</p>
<p><strong>Argument '&current':</strong>String to store colliding entity ID.</p>
<p><strong>Argument '&angle':</strong>Variable to store angle.</p>
<p><strong>Argument '&dist':</strong>Variable to store distance. </p>
<p><strong>Argument '&rect':</strong>Variable to store rectangle that being colliding with.</p>
<p><strong>Argument '&type':</strong>Variable to store type of rectangle that your colliding with.</p>
<p><strong>Argument 'current[]':</strong>String to store colliding entity name.</p>
<p>True if a collision exist.</p>
<h3>Example Code</h3>
<pre>
	if ( CollisionCalculate() )
	{
		new current;
		new angle;
		new dist;
		new rect;
		new _STATE:type;
		while ( CollisionGetCurrent(SELF, current, angle, dist, rect, type) )
		{
			if ( type == TYPE_AWAKING )
			{
				EntityPublicFunction(current, "Awaking", "sn", selfid, rect);
			}
			else if ( type == TYPE_ENEMY || type == TYPE_DOOR )
			{
				EntityPublicFunction(current, "Hit", "snnnnnn", selfid, angle, dist, APLAYER, 0, dx,dy, rect);
			}
			else if ( type == TYPE_TRANSPORT )
			{
				if ( EntityPublicFunction(current, "MovePlayer", "sn", selfid, _dir_) )
				{
					_state_ = STANDING;
				}
			}
			else if ( type == TYPE_PUSHABLE && _state_ == PUSHING )
			{
				EntityPublicFunction(current, "Push", "snn", selfid, rect, angle);
			}
			else if ( type == TYPE_SWITCH )
			{
				EntityPublicFunction(current, "Pressed", "s", selfid);
			}
			else if ( type == TYPE_ITEM )
			{
				if ( EntityPublicFunction(current, "Pickup", "s", selfid) )
				{
					_state_ = LIFTING;
				}
			}
		}
	}
	</pre>
</div>
